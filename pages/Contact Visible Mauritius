import pandas as pd
import json
import streamlit as st
from streamlit_lottie import st_lottie
import matplotlib.pyplot as plt
import plotly.express as px
import os
import requests
from streamlit import components 


# Set favicon
favicon_path = "fav_icon.png"

st.set_page_config(
    page_title="Visible Mauritius",
    layout="wide",
    page_icon=favicon_path  # Set the favicon
)

# Read the SVG image as binary
with open("logo.svg", "rb") as svg_file:
    svg_binary = svg_file.read()

# Convert the binary data to base64
import base64
svg_base64 = base64.b64encode(svg_binary).decode()

# Display the logo using HTML
st.markdown(
    f"""
    <div style="display: flex; align-items: center;">
        <img src="data:image/svg+xml;base64,{svg_base64}" width="85">
    </div>
    """,
    unsafe_allow_html=True,
)
st.markdown('<style>div.block-container{padding-top:3rem;}</style>', unsafe_allow_html=True)


def load_lottiefile(filepath: str):
    with open(filepath, "r") as f:
        return json.load(f)

# Define the path to your Lottie animation JSON file
animation_lottie = load_lottiefile("contact_animation.json")

# Create a two-column layout
col1, col2 = st.columns(2)

with col1:
    st.markdown("<h2 style='font-size: 25px;'>Get in touch with Visible Mauritius</h2>", unsafe_allow_html=True)
    
    st.markdown(
    """
    <div style="text-align: left;">
        We welcome your feedback, inquiries, suggestions, and collaboration ideas here at Visible Mauritius. Please don't hesitate to reach out to us. We aim to respond to your message within three business days.
    </div><br>
    """,
    unsafe_allow_html=True,
)
    
    # Input fields
    name = st.text_input("Name")
    email = st.text_input("Email")
    message = st.text_area("Message")
    
    # Send button
    if st.button("Send"):
        # Handle the submission here (e.g., send an email or save to a database)
        # You can access the input values as 'name', 'email', and 'message' variables
        # Example: You can print the values to the console
        st.success(f"Name: {name}\nEmail: {email}\nMessage: {message}\nMessage sent!")

    
with col2:
    
    # Use st_lottie to display the animation
    st_lottie(
        animation_lottie,
        speed=1,
        reverse=False,
        loop=True,
        height=None, 
        
    )
        
